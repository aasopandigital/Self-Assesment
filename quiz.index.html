<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Random 30 Soal</title>
<style>
 body { font-family: Arial, sans-serif; padding: 20px; }
 .container { max-width: 900px; margin: auto; }
 .hidden { display: none; }
 .question { margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
 .options label { display: block; margin-bottom: 6px; }
 #result { font-size: 20px; font-weight: bold; margin-top: 20px; }
</style>
</head>
<body>
<div class="container">
<h2>UJIAN BAHASA INGGRIS<br>30 Soal Acak (Narrative, Recount, Procedure)</h2>

<div id="loginBox">
    <p>Masukkan Nama:</p>
    <input type="text" id="studentName">
    <button onclick="startQuiz()">Mulai</button>
</div>

<div id="quizBox" class="hidden"></div>
<div id="result"></div>
</div>

<script>
// ==========================
// BANK SOAL (AKAN DIISI 30 SOAL)
// ==========================
const questionBank = [
// ========== NARRATIVE (10) ==========
{
 type: "narrative",
 passage: `Long ago in a quiet village, there lived an old storyteller named Raka. He traveled from place to place, sharing tales that inspired both children and adults.

One day, he discovered a mysterious wooden box buried near a riverbank. The box glowed faintly as if holding a hidden secret.

Raka decided to open it, and a soft light filled the air. Inside, he found a golden feather said to belong to a mythical bird that granted wisdom.

Raka kept the feather and felt his stories become more powerful, attracting visitors from distant lands.`,
 question: "What is the main theme of the story?",
 options: ["Greed", "Wisdom", "Friendship", "Conflict", "Fear"],
 answer: 1
},
{
 type: "narrative",
 passage: `On a foggy morning, a young girl named Lila wandered into an enchanted forest known for its magical creatures.

As she walked deeper, she met a glowing deer that guided lost travelers. The deer signaled her to follow.

They reached a hidden lake where the water shimmered with rainbow colors. Lila felt peace as she touched the surface.

Suddenly, her worries disappeared, and she understood the forest protected kind-hearted visitors.`,
 question: "What does the glowing deer symbolize?",
 options: ["Danger", "Guidance", "Confusion", "Illusion", "Strength"],
 answer: 1
},
{
 type: "narrative",
 passage: `In a remote kingdom, a young prince dreamed of becoming a great healer instead of a warrior.

His father disapproved and insisted he train with the royal guards.

One night, the prince secretly left the palace to learn from a legendary healer in the mountains.

After months of training, he returned stronger, proving that healing could save more lives than fighting.`,
 question: "What lesson is taught in the story?",
 options: ["Courage to follow dreams", "Obedience to rules", "Power of wealth", "Strength in battle", "Fear of failure"],
 answer: 0
},
{
 type: "narrative",
 passage: `A fisherman named Brata cast his net every morning but caught fewer fish each year.

One day, he rescued a tiny turtle trapped in plastic waste.

The next morning, the sea appeared clearer, and his net became full of fish again.

Brata realized nature rewarded those who protected it.`,
 question: "What is the moral value of this story?",
 options: ["Patience leads to success", "Protecting nature brings benefits", "Hard work is everything", "Luck decides outcomes", "Helping others is dangerous"],
 answer: 1
},
{
 type: "narrative",
 passage: `Mira always believed she was ordinary until she found an ancient book in her school library.

The book whispered her name when she opened it.

Each page showed visions of her potential future if she made brave choices.

Finally, she realized her destiny was shaped by her decisions, not fate.`,
 question: "What does the book represent?",
 options: ["Danger", "Destiny", "Uncertainty", "Mystery", "Knowledge"],
 answer: 4
},
{
 type: "narrative",
 passage: `In a snowy mountain village, people depended on a giant lantern to guide them at night.

One winter, the flame suddenly went out, causing panic.

A young boy climbed the mountain to relight it using a spark from a sacred cave.

He succeeded, proving that even the smallest person could protect many lives.`,
 question: "What is the message of the story?",
 options: ["Small actions matter", "Fire is dangerous", "Winter is harsh", "Villages need leaders", "Caves are sacred"],
 answer: 0
},
{
 type: "narrative",
 passage: `Sena loved music but was too shy to perform.

One day, she found a flute carved with ancient symbols.

When she played it, the forest animals gathered, encouraging her.

She later gained confidence to perform before others without the flute's magic.`,
 question: "What change happened to Sena?",
 options: ["She became afraid", "She stopped playing", "She gained confidence", "She lost interest", "She forgot the flute"],
 answer: 2
},
{
 type: "narrative",
 passage: `A lonely dragon guarded a crystal cave for centuries.

Everyone feared him, thinking he was dangerous.

One brave girl approached and discovered the dragon simply wanted friends.

Her kindness changed the way villagers saw the dragon forever.`,
 question: "What does the dragon truly desire?",
 options: ["Treasure", "Power", "Friends", "Freedom", "Food"],
 answer: 2
},
{
 type: "narrative",
 passage: `An inventor created a small robot that could repair broken objects.

The robot wanted to help everyone, but people underestimated it due to its size.

When a storm damaged the village, the robot fixed the communication tower.

People finally appreciated that usefulness is not measured by size.`,
 question: "What is the main idea?",
 options: ["Robots are dangerous", "Storms destroy villages", "Small things have great value", "People love technology", "Inventions replace humans"],
 answer: 2
},
{
 type: "narrative",
 passage: `A traveler visited a desert oasis where stories were traded instead of goods.

He shared his struggles, and an elder gifted him a story of perseverance.

The traveler reflected deeply on the message.

When he left the oasis, he felt renewed strength to continue his journey.`,
 question: "What was given to the traveler?",
 options: ["Money", "Water", "Food", "A story", "A map"],
 answer: 3
},

// ========== RECOUNT (10) ==========
{
 type: "recount",
 passage: `Last year, my family and I visited Borobudur Temple for the first time.

We arrived early in the morning to catch the sunrise.

As the sun rose, the temple stones glowed beautifully, creating an unforgettable scene.

We spent hours exploring the carvings and learning about its history.`,
 question: "What is the purpose of the text?",
 options: ["To entertain", "To describe a routine", "To retell an experience", "To explain a process", "To compare places"],
 answer: 2
},
{
 type: "recount",
 passage: `During my trip to Bali, I visited Tanah Lot Temple which stood proudly on a rocky island.

The waves crashed around it, creating a dramatic view.

I waited there until sunset, and the sky turned orange and purple.

It became the most breathtaking moment of my vacation.`,
 question: "What makes Tanah Lot special?",
 options: ["Its food", "Its location on a rock", "Its large size", "Its modern design", "Its quiet atmosphere"],
 answer: 1
},
{
 type: "recount",
 passage: `When I went to Singapore, I visited the famous Merlion Park.

The half-lion, half-fish statue fascinated me.

Tourists from many countries were taking photos around it.

I felt grateful to finally see the landmark in person.`,
 question: "What is the writer’s feeling about the visit?",
 options: ["Disappointed", "Angry", "Confused", "Grateful", "Bored"],
 answer: 3
},
{
 type: "recount",
 passage: `Last holiday, I traveled to Paris and visited the Eiffel Tower.

The long line didn’t stop me from going to the top.

When I reached the viewing deck, I saw the entire city sparkling below.

It was the highlight of my European trip.`,
 question: "What is the highlight of the trip?",
 options: ["The food", "The city park", "The viewing deck", "The hotel", "The airport"],
 answer: 2
},
{
 type: "recount",
 passage: `My school organized a trip to Tangkuban Perahu.

We walked along the crater while smelling the strong sulfur.

Even though it was windy and cold, the scenery was magnificent.

I enjoyed learning the legend behind the mountain.`,
 question: "What did the writer enjoy?",
 options: ["The cold weather", "The legend", "The sulfur smell", "The food", "The hotel"],
 answer: 1
},
{
 type: "recount",
 passage: `My visit to Raja Ampat was unforgettable.

The sea was crystal clear, and I could see colorful fish swimming below.

I went snorkeling and felt like floating in an aquarium.

It was the most beautiful marine experience I ever had.`,
 question: "What activity did the writer do?",
 options: ["Diving", "Fishing", "Snorkeling", "Sailing", "Surfing"],
 answer: 2
},
{
 type: "recount",
 passage: `Last month, I met a famous author during a book event.

He talked about


    // --- TEMPLATE FORMAT ---
    // {
    //   type: "narrative/recount/procedure",
    //   passage: `Paragraf 1...
    //
    //   Paragraf 2...
    //
    //   Paragraf 3...
    //
    //   Paragraf 4...`,
    //   question: "Pertanyaannya...",
    //   options: ["A", "B", "C", "D", "E"],
    //   answer: 2
    // }
];

let selectedQuestions = [];

function startQuiz() {
    const name = document.getElementById("studentName").value.trim();
    if (!name) return alert("Nama wajib diisi!");

    document.getElementById("loginBox").classList.add("hidden");
    document.getElementById("quizBox").classList.remove("hidden");

    shuffle(questionBank);
    selectedQuestions = questionBank.slice(0, 30);
    renderQuiz();
}

function renderQuiz() {
    const box = document.getElementById("quizBox");
    box.innerHTML = "";

    selectedQuestions.forEach((q, i) => {
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `
            <p><b>Text ${i+1}</b></p>
            <p>${q.passage.replace(/\n/g, '<br>')}</p>
            <p><b>${i+1}. ${q.question}</b></p>
            <div class="options">
                ${q.options.map((op, idx) => `
                    <label><input type="radio" name="q${i}" value="${idx}"> ${op}</label>
                `).join("")}
            </div>
        `;
        box.appendChild(div);
    });

    box.innerHTML += `<button onclick="submitQuiz()">Kumpulkan</button>`;
}

function submitQuiz() {
    let score = 0;
    selectedQuestions.forEach((q, i) => {
        const selected = document.querySelector(`input[name='q${i}']:checked`);
        if (selected && Number(selected.value) === q.answer) score++;
    });

    document.getElementById("result").innerHTML = `Nilai Anda: ${score} / 30`;
}

function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}
</script>
</body>
</html>
